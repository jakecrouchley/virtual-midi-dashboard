<div class="dashboard-container">
  <div class="top-row">
    <button (click)="onNewClicked()">New</button>
    <button (click)="onDownloadClicked()">Download</button>
    <label class="load-file-label" for="load-file">Load: </label>
    <input
      #fileInput
      class="file-input"
      type="file"
      id="load-file"
      (change)="handleFileInput($event)"
    />
    <button (click)="decreaseCols()">-</button>
    <button (click)="increaseCols()">+</button>
    <p class="version">Version {{ dataVersion }}</p>
  </div>
  <div class="cell-container" [style.width.px]="cellEdgeLength" #cellContainer>
    <app-cell
      *ngFor="let cell of cells; let i = index"
      [cell]="cell"
      [index]="i"
      [cellEdgeLength]="cellEdgeLength"
    ></app-cell>
    <!-- <div
      class="cell"
      [style.width.px]="cellEdgeLength"
      [style.height.px]="cellEdgeLength"
      (click)="openDialog()"
      *ngIf="cells.length === 0"
    >
      <mat-icon class="cell-icon" aria-hidden="false" aria-label="Cell Action"
        >add</mat-icon
      >
    </div> -->
    <!-- <div
      class="cell"
      [style.width.px]="cellEdgeLength"
      [style.height.px]="cellEdgeLength"
      (click)="installPWA()"
    >
      <span>Install PWA</span>
    </div> -->
  </div>
  <div class="bottom-bar-container">
    <!-- <img class="bottom-bar" src="assets/imgs/bottom-bar.png" /> -->
  </div>
</div>

<ng-template #confirmNewDialog>
  <h2 matDialogTitle>Confirm</h2>
  <p matDialogContent>
    Are you sure you want to start a new dashboard? The current data will be
    lost unless you export first.
  </p>
  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Cancel</button>
    <button mat-button [mat-dialog-close]="true">Confirm</button>
  </mat-dialog-actions>
</ng-template>
